services:
  display:
    build: .
    volumes:
      - ./app:/app:ro
  novnc:
    image: geek1011/easy-novnc
    command: -a :5800 -h display --no-url-password
    ports:
      - 5800:5800
  palemoon-386:
    hostname: i386
    platform: linux/386
    build:
      dockerfile: Dockerfile.palemoon
    command: sleep inf
    environment:
      DISPLAY: display:0
  palemoon-amd64:
    hostname: amd64
    platform: linux/amd64
    build:
      dockerfile: Dockerfile.palemoon
    command: sleep inf
    environment:
      DISPLAY: display:0
